<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:wpf="clr-namespace:MaterialDesignThemes.Wpf">

    <ControlTemplate x:Key="MaterialDesignValidationErrorTemplate">
        <StackPanel>
            <AdornedElementPlaceholder Name="Placeholder" />
            <!--Rectangle x:Name="PopupTargetElement"
                                   Margin="-5 0 -5 0"/-->
            <wpf:CustomValidationPopup IsOpen="{Binding ElementName=Placeholder, Path=AdornedElement.IsKeyboardFocusWithin, Mode=OneWay}"
                                       Placement="Bottom" PlacementTarget="{Binding ElementName=Placeholder}"
                                       AllowsTransparency="True">
                <Border Background="{DynamicResource MaterialDesignPaper}">
                    <Border.Resources>
                        <DataTemplate DataType="{x:Type ValidationError}">
                            <TextBlock Foreground="{DynamicResource ValidationErrorBrush}"
                                       MaxWidth="250"
                                       Margin="8,4,8,4"
                                       TextWrapping="Wrap"
                                       Text="{Binding ErrorContent}"
                                       UseLayoutRounding="false" />
                        </DataTemplate>
                    </Border.Resources>
                    <ContentPresenter Content="{Binding CurrentItem}" />
                    <!--<TextBlock FontSize="10"
                               Foreground="{DynamicResource ValidationErrorBrush}"
                               Margin="4"
                               Text="{Binding Path=[0].ErrorContent}"/>-->
                </Border>
            </wpf:CustomValidationPopup>
        </StackPanel>
    </ControlTemplate>
</ResourceDictionary>